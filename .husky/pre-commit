#!/bin/sh
. "$(dirname "$0")/_/husky.sh"

echo "ğŸ§¼ Pre-commit ãƒã‚§ãƒƒã‚¯é–‹å§‹..."

echo "ğŸ§¼ Lint + Format + Type Check ã‚’å®Ÿè¡Œä¸­..."
npx lint-staged || exit 1

echo "ğŸ” æœªä½¿ç”¨é–¢æ•°ã®ãƒã‚§ãƒƒã‚¯ï¼ˆts-pruneï¼‰ã‚’å®Ÿè¡Œä¸­..."
npm run check:unused-functions || exit 1

echo "ğŸ“¦ æœªä½¿ç”¨ import ã®ãƒã‚§ãƒƒã‚¯ã‚’å®Ÿè¡Œä¸­..."
npm run check:unused-imports || exit 1

echo "ğŸ”  å‹ãƒã‚§ãƒƒã‚¯ã‚’å®Ÿè¡Œä¸­ï¼ˆtsc --noEmitï¼‰..."
npx tsc --noEmit -p tsconfig.json || exit 1

echo "âœ… Pre-commit ãƒã‚§ãƒƒã‚¯å®Œäº†"
